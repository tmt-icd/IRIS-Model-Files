subsystem = IRIS
component = hcd.newport

publish {

  description = """
Events published by Hawaii xRG HCD. Most of the events will be directly published by an underlying C program.
"""

  events = [
   {
      name              = group1Config
      maxRate           = 1
      description       = """
Status of the 1st group defined in the XPS motion controller.

Note that the the 1st group does not always correspond to the positioner whose stepper motor is connected tothe driver card in Slot #1 (PlugNumber = 1).
"""
      attributes = [
        {
          name          = name
          description   = "Group name"
          type          = string
        }
        {
          name          = positioners
          description   = "Name of positioners under this group"
          type          = array
          dimensions    = [3]
          items         = {
            type          = string
          }
        }
        {
          name          = type
          description   = "Group type"
          enum          = [SingleAxis, Spindle, XY, XYZ, MultipleAxes]
        }
      ]
   } 
   {
      name              = positioner1FastStatus
      maxRate           = 20
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #1 (PlugNumber = 1)."
      attributes = [
        {
          name          = groupName
          description   = "Group name of this positioner"
          type          = string
        }
        {
          name          = name
          description   = "Positioner name (no group name included)"
          type          = string
        }
        {
          name          = position
          description   = "Current position obtained by GroupPositionCurrentGet"
          type          = double
          units         = "au"
        }
        {
          name          = velocity
          description   = "Current velocity obtained by GroupJogCurrentGet"
          type          = double
          units         = "au/s"
        }
        {
          name          = acceleration
          description   = "Current acceleration obtained by GroupJogCurrentGet"
          type          = double
          units         = "au/s^2"
        }
        {
          name          = status
          description   = "Group status code obtained by GroupStatusGet"
          type          = integer
        }
      ]
    }
    {
      name              = positioner1Status
      maxRate           = 1
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #1 (PlugNumber = 1)."
      attributes = [
        {
          name          = groupName
          description   = "Group name of this positioner"
          type          = string
        }
        {
          name          = name
          description   = "Positioner name (no group name included)"
          type          = string
        }
        {
          name          = errorCode
          description   = "Positioner error code obtained by PositionerErrorRead"
          type          = integer
        }
        {
          name          = hardwareStatus
          description   = "Positioner hardware status code obtained by PositionerHardwareStatusGet"
          type          = integer
        }
        {
          name          = driverStatus
          description   = "Positioner driver status code obtained by PositionerDriverStatusGet"
          type          = integer
        }
      ]
    }
    {
      name              = positioner1Config
      maxRate           = 1
      description       = "Configuration of the positioner whose stepper motor is connected to the driver card in Slot #1 (PlugNumber = 1)."
      attributes = [
        {
          name          = groupName
          description   = "Group name of this positioner"
          type          = string
        }
        {
          name          = name
          description   = "Positioner name (no group name included)"
          type          = string
        }
        {
          name          = stageName
          description   = "Name of the stage configuration file"
          type          = integer
        }
        {
          name          = SmartStageName
          description   = ""
          type          = string
        }
        {
          name          = CorrectorType
          description   = ""
          type          = string
        }
        {
          name          = MotionDoneMode
          description   = ""
          type          = string
        }
        {
          name          = MotorDriverInterface
          description   = ""
          type          = string
        }
        {
          name          = ScalingCurrent
          description   = ""
          type          = double
        }
        {
          name          = DisplacementPerFullStep
          description   = ""
          type          = double
        }
        {
          name          = PeakCurrentPerPhase
          description   = ""
          type          = double
        }
        {
          name          = StandbyPeakCurrentPerPhase
          description   = ""
          type          = double
        }
        {
          name          = BaseVelocity
          description   = ""
          type          = double
        }
        {
          name          = DriverName
          description   = ""
          type          = string
        }
        {
          name          = DriverPWMFrequency
          description   = ""
          type          = double
        }
        {
          name          = DriverStepperWinding
          description   = ""
          type          = string
        }
        {
          name          = EncoderType
          description   = ""
          type          = string
        }
        {
          name          = Backlash
          description   = ""
          type          = double
        }
        {
          name          = CurrentVelocityCutOffFrequency
          description   = ""
          type          = double
        }
        {
          name          = CurrentAccelerationCutOffFrequency
          description   = ""
          type          = double
        }
        {
          name          = PositionerMappingFileName
          description   = ""
          type          = string
        }
        {
          name          = ServitudesType
          description   = ""
          type          = string
        }
        {
          name          = MinimumTargetPosition
          description   = ""
          type          = double
        }
        {
          name          = MaximumTargetPosition
          description   = ""
          type          = double
        }
        {
          name          = HomePreset
          description   = ""
          type          = double
        }
        {
          name          = MaximumVelocity
          description   = ""
          type          = double
        }
        {
          name          = MaximumAcceleration
          description   = ""
          type          = double
        }
        {
          name          = EmergencyDecelerationMultiplier
          description   = ""
          type          = double
        }
        {
          name          = MinimumJerkTime
          description   = ""
          type          = double
        }
        {
          name          = MaximumJerkTime
          description   = ""
          type          = double
        }
        {
          name          = TrackingCutOffFrequency
          description   = ""
          type          = double
        }
        {
          name          = HomeSearchSequenceType
          description   = ""
          type          = string
        }
        {
          name          = HomeSearchMaximumVelocity
          description   = ""
          type          = double
        }
        {
          name          = HomeSearchMaximumAcceleration
          description   = ""
          type          = double
        }
        {
          name          = HomeSearchTimeOut
          description   = ""
          type          = double
        }
      ]
    }
    
    {
      name              = group2Config
      description       = """
Status of the 2nd group defined in the XPS motion controller.

Note that the the 2nd group does not always correspond to the positioner whose stepper motor is connected tothe driver card in Slot #2 (PlugNumber = 2).
"""
      ref               = group1Config
    }
    {
      name              = positioner2FastStatus
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #2 (PlugNumber = 2)."
      ref               = positioner1FastStatus
    }
    {
      name              = positioner2Status
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #2 (PlugNumber = 2)."
      ref               = positioner1Status
    }
    {
      name              = positioner2Config
      description       = "Configuration of the positioner whose stepper motor is connected to the driver card in Slot #2 (PlugNumber = 2)."
      ref               = positioner1Config
    }
    
    {
      name              = group3Config
      description       = """
Status of the 3rd group defined in the XPS motion controller.

Note that the the 3rd group does not always correspond to the positioner whose stepper motor is connected tothe driver card in Slot #3 (PlugNumber = 3).
"""
      ref               = group1Config
    }
    {
      name              = positioner3FastStatus
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #3 (PlugNumber = 3)."
      ref               = positioner1FastStatus
    }
    {
      name              = positioner3Status
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #3 (PlugNumber = 3)."
      ref               = positioner1Status
    }
    {
      name              = positioner3Config
      description       = "Configuration of the positioner whose stepper motor is connected to the driver card in Slot #3 (PlugNumber = 3)."
      ref               = positioner1Config
    }
    
    {
      name              = group4Config
      description       = """
Status of the 4th group defined in the XPS motion controller.

Note that the the 4th group does not always correspond to the positioner whose stepper motor is connected tothe driver card in Slot #4 (PlugNumber = 4).
"""
      ref               = group1Config
    }
    {
      name              = positioner4FastStatus
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #4 (PlugNumber = 4)."
      ref               = positioner1FastStatus
    }
    {
      name              = positioner4Status
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #4 (PlugNumber = 4)."
      ref               = positioner1Status
    }
    {
      name              = positioner4Config
      description       = "Configuration of the positioner whose stepper motor is connected to the driver card in Slot #4 (PlugNumber = 4)."
      ref               = positioner1Config
    }
    
    {
      name              = group5Config
      description       = """
Status of the 5th group defined in the XPS motion controller.

Note that the the 5th group does not always correspond to the positioner whose stepper motor is connected tothe driver card in Slot #5 (PlugNumber = 5).
"""
      ref               = group1Config
    }
    {
      name              = positioner5FastStatus
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #5 (PlugNumber = 5)."
      ref               = positioner1FastStatus
    }
    {
      name              = positioner5Status
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #5 (PlugNumber = 5)."
      ref               = positioner1Status
    }
    {
      name              = positioner5Config
      description       = "Configuration of the positioner whose stepper motor is connected to the driver card in Slot #5 (PlugNumber = 5)."
      ref               = positioner1Config
    }
    
    {
      name              = group6Config
      description       = """
Status of the 6th group defined in the XPS motion controller.

Note that the the 6th group does not always correspond to the positioner whose stepper motor is connected tothe driver card in Slot #6 (PlugNumber = 6).
"""
      ref               = group1Config
    }
    {
      name              = positioner6FastStatus
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #6 (PlugNumber = 6)."
      ref               = positioner1FastStatus
    }
    {
      name              = positioner6Status
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #6 (PlugNumber = 6)."
      ref               = positioner1Status
    }
    {
      name              = positioner6Config
      description       = "Configuration of the positioner whose stepper motor is connected to the driver card in Slot #6 (PlugNumber = 6)."
      ref               = positioner1Config
    }
    
    {
      name              = group7Config
      description       = """
Status of the 7th group defined in the XPS motion controller.

Note that the the 7th group does not always correspond to the positioner whose stepper motor is connected tothe driver card in Slot #7 (PlugNumber = 7).
"""
      ref               = group1Config
    }
    {
      name              = positioner7FastStatus
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #7 (PlugNumber = 7)."
      ref               = positioner1FastStatus
    }
    {
      name              = positioner7Status
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #7 (PlugNumber = 7)."
      ref               = positioner1Status
    }
    {
      name              = positioner7Config
      description       = "Configuration of the positioner whose stepper motor is connected to the driver card in Slot #7 (PlugNumber = 7)."
      ref               = positioner1Config
    }
    
    {
      name              = group8Config
      description       = """
Status of the 8th group defined in the XPS motion controller.

Note that the the 8th group does not always correspond to the positioner whose stepper motor is connected tothe driver card in Slot #8 (PlugNumber = 8).
"""
      ref               = group1Config
    }
    {
      name              = positioner8FastStatus
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #8 (PlugNumber = 8)."
      ref               = positioner1FastStatus
    }
    {
      name              = positioner8Status
      description       = "Status of the positioner whose stepper motor is connected to the driver card in Slot #8 (PlugNumber = 8)."
      ref               = positioner1Status
    }
    {
      name              = positioner8Config
      description       = "Configuration of the positioner whose stepper motor is connected to the driver card in Slot #8 (PlugNumber = 8)."
      ref               = positioner1Config
    }
    {
      name              = digitalIO
      maxRate           = 10
      description       = "Status of digital inputs and outputs"
      attributes = [
        {
          name          = name
          description   = "GPIO names (e.g. GPIO1.DI)"
          type          = array
          dimensions    = [32]
          items         = {
            type          = boolean
          }
        }
        {
          name          = status
          description   = "Status of digital inputs obtained by GPIODigitalGet"
          type          = array
          dimensions    = [32]
          items         = {
            type          = integer
          }
        }
      ]
    } 
  ]
}
