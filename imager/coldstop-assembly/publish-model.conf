subsystem = IRIS
component = coldstop-assembly

publish {

  description = "Telemetries published by IRIS Cold Stop Assembly."

  telemetry = [
    {
      name = position
      description = "Current position of cold stop."
      maxRate = 1
      archive = true
      archiveRate = 1
      attributes = [
        {
            name = x_pos
            description  = "Current position in X axis."
            type = float
            units = mm
        }
        {
            name = y_pos
            description  = "Current position in Y axis."
            type = float
            units = mm
        }
        {
            name = theta
            description  = "Current angle of the rotary stage."
            type = float
            units = degree
        }
      ]
    }
    {
      name = status
      description = "Current general cold stop status."
      maxRate = 1
      archive = true
      archiveRate = 1
      attributes = [
        {
            name = noMotion
            description = """
This attribute becomes true if all axes are stopped.

It can be used to check if no mechanisms are in motion in Warm Stow, End Taking Daytime Calibration Data, End Night and Stow Use Case. See [IRIS - Software Design Document (TMT.INS.PDD.14.024.DRF07)](https://docushare.tmt.org/docushare/dsweb/Get/Document-32613/160210_IRIS_SDD_DRF07.docx) for more details about those use cases.
"""
	        type = boolean
        }
        {
            name = locked
            description = """
This attribute becomes true when this assembly is locked.

It can be used to verify mechanisms are locked in Start Pumping Use Case. See [IRIS - Software Design Document (TMT.INS.PDD.14.024.DRF07)](https://docushare.tmt.org/docushare/dsweb/Get/Document-32613/160210_IRIS_SDD_DRF07.docx) for more details about this use case.
"""
            type = boolean
        }
        {
            name = state
            description  = """
Current overall state of ADC. Meaning of each value is as follows:  

__TODO__: Redefine state variables as specified in the software design patterns for device and component controllers.
"""
            type = string
        }
        {
            name = errorMessage
            description  = "Error message."
            type = string
        }
      ]
    }
    {
      name = theta
      description = """
This telemetry contains statuses of the rotary stage that may change over time in slow rate (up to approximately 1 Hz).

__TBD__: It may be better to separate some attributes into another data structure so that the whole telemetry won't be sent over the network only one attribute is changed.

__TODO__: Check the behavior of all statuses defined in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf). Currently, 'A stop code', 'A axis reference position', 'A axis auxiliary position', 'A axis analog input', 'A Hall Input status' and some status bits in 'A xis status' and 'A axis switches' are not used in this model. If they are useful, let them in this model.
"""
      maxRate = 1
      archive = true
      archiveRate = 1
      attributes = [
        {
          name = status
          description  = """
Current status of the upper rotary stage. Meaning of each value is as follows:  

* __HOMING__    : The rotary stage is finding home.
* __TRACKING__  : The rotary stage is tracking telescope motion and change of atmospheric dispersion.
* __ROTATING__  : The rotary stage is rotating to a designated position.
* __STOP__      : The rotary stage is not rotating.
* __UNKNOWN__   : Unknown state.
"""
          enum = [HOMING, TRACKING, ROTATING, STOP, UNKNOWN]
        }
        {
          name = angle
          description  = "Current rotation angle of the rotary stage."
          type = float
          units = degree
          minimum = -180
          maximum = 180
          exclusiveMinimum = true
          exclusiveMaximum = false 
        }
        {
          name = targetAngle
          description  = "Demanded rotation angle of the rotary stage."
          type = float
          units = degree
          minimum = -180
          maximum = 180
          exclusiveMinimum = true
          exclusiveMaximum = false 
        }
        {
          name = rawAngle
          description  = """
Current raw rotation angle of the rotary stage. This status corresponds to ADDR 90-93 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = targetRawAngle
          description  = """
Demanded raw rotation angle of the rotary stage.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = rawAngleError
          description  = """
Current raw rotation angle error of the rotary stage. This status corresponds to ADDR 94-97 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = homeSwitch
          description = "Current home switch state of the rotary stage." 
          type = boolean
        }
        {
          name = motorOff
          description = """
This status corresponds to BIT 0 'Motor Off' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = finalDeceleration
          description = """
This status corresponds to BIT 3 'Motion is making final deceleration' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = stoppingForLimit
          description = """
This status corresponds to BIT 4 'Motion is stopping due to ST of Limit Switch' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'. This status supposed to be always false because theere is no limit switch in the rotary stage angle.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = slewing
          description = """
This status corresponds to BIT 5 'Motion is slewing' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = negativeDirection
          description = """
This status corresponds to BIT 7 'Negative Direction Move' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = homing
          description = """
This status corresponds to BIT 12 '(FE) Find Edge in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionPAOnly
          description = """
This status corresponds to BIT 13 'Mod of Motion PA only' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionMode
          description = """
This status corresponds to BIT 14 'Mode of Motion PA or PR' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = moving
          description = """
This status corresponds to BIT 15 'Move in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = velocity
          description  = "Current velocity. This status corresponds to ADDR 102-105 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'."
          type = float
          units = mm/s
        }
        {
          name = torque
          description  = """
Current torque. This status corresponds to ADDR 106-109 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the rotary stage is assigned to 'A'.

__TODO__: Check what torque value is entered here. Motion controller may simply write a value corresponding the current electric current. Thus, this attribute may be useful to check the current electric current setting. This attribute would be different from actual torque applied to the axis because there is no toqrue sensor attached.
"""
          type = float
          units = mNm
        }
      ]
    }
    {
      name = thetaConf
      description = """
Current configuration for the rotary stage..

This telemetry can be used to check if the current configuration is as intended. If not, the user shoud edit the configuration via Configuration Service or a local file, and re-initialize this assembly so that the latest configuration will be reloaded. This telemetry is updated only when initialization is performed.
"""
      maxRate = 1
      archive = true
      attributes = [
        {
          name = angleOffset
          description = "Offset angle from the home switch to the rotation angle of 0 degree."
          type = float
          units = degree
          minimum = -180
          maximum = 180
          exclusiveMinimum = true
          exclusiveMaximum = false 
        }
        {
          name = rawAngleOffset
          description = """
Raw offset angle from the home switch to the rotation angle of 0 degree.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = acceleration
          description = """
Acceleration of trapezoidal profile for normal rotation. This value won't be applied to tracking motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawAcceleration
          description = """
Raw acceleration of trapezoidal profile for normal rotation. This value won't be applied to tracking motion. This value corresponds to the argument of AC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
        }
        {
          name = deceleration
          description = """
Deceleration of trapezoidal profile for normal rotation. This value won't be applied to tracking motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawDeceleration
          description = """
Raw deceleration of trapezoidal profile for normal rotation. This value won't be applied to tracking motion. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocity
          description = """
Maximum velocity of trapezoidal profile for normal rotation. This value won't be applied to tracking motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = degree/s
        }
        {
          name = rawVelocity
          description = """
Raw maximum velocity of trapezoidal profile for normal rotation. This value won't be applied to tracking motion. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothing
          description = """
Smoothing factor of trapezoidal profile for normal rotation. This value won't be applied to tracking motion. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer.

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.
"""
          type = float
          minimum = 0.25
          maximum = 64
        }
        {
          name = accelerationHoming
          description = """
Acceleration of trapezoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawAccelerationHoming
          description = """
Raw acceleration value of trapezoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = integer
        }
        {
          name = decelerationHoming
          description = """
Deceleration of trapezoidal profile for homoing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = degree/s/s
        }
        {
          name = rawDecelerationHoming
          description = """
Raw deceleration value of trapezoidal profile for homing. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocityHoming
          description = """
Maximum velocity of trapezoipdal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = degree/s
        }
        {
          name = rawVelocityHoming
          description = """
Raw maximum velocity value of trapezoipdal profile for homing. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothingHoming
          description = """
Smoothing factor of trapezoidal profile for homing. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.
"""
          type = float
          minimum = 0.25
          maximum = 64
        }
      ]
    }
    {
      name = xAxis
      description = """
This telemetry contains statuses of the linear stage which moves in X axis that may change over time in slow rate (up to approximately 1 Hz).

__TBD__: It may be better to separate some attributes into another data structure so that the whole telemetry won't be sent over the network only one attribute is changed.

__TODO__: Check the behavior of all statuses defined in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf). Currently, 'A stop code', 'A axis reference position', 'A axis auxiliary position', 'A axis analog input', 'A Hall Input status' and some status bits in 'A xis status' and 'A axis switches' are not used in this model. If they are useful, let them in this model.
"""
      maxRate = 1
      archive = true
      archiveRate = 1
      attributes = [
        {
          name = status
          description  = """
Current status of the linear stage for X axis motion. Meaning of each value is as follows:  

* __HOMING__    : the linear stage is finding home.
* __TRACKING__  : the linear stage is tracking upstream motion.
* __MOVING__    : the linear stage is moving to a designated position.
* __STOP__      : the linear stage is not moving.
* __UNKNOWN__   : Unknown state.
"""
          enum = [HOMING, TRACKING, ROTATING, STOP, UNKNOWN]
        }
        {
          name = positionStatus
          description = """
Summary of the linear stage position in X axis.

* __IN__       : Cold stop is inserted in the science light path and ready for observation.
* __HALFWAY__  : Cold stop is being inserted or retracted, or between the retraction and insertion positions.
* __OUT__      : Cold stop is completely retracted from the sicence light path and ready for the observation which does not use cold stop.
* __UNKNOWN__: Unknown state.
"""
          enum = [IN, HALFWAY, OUT, UNKNOWN]
        }
        {
          name = position
          description  = """
Current position of the linear stage in X axis.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = targetPosition
          description  = """
Demanded position of the linear stage in X axis.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = rawPosition
          description  = """
Current raw position of the linear stage in X axis. This status corresponds to ADDR 90-93 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if X axis is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = targetRawPosition
          description  = """
Demanded raw position of the linear stage in X axis.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = rawPositionError
          description  = """
Current raw position error of the linear stage in X axis. This status corresponds to ADDR 94-97 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = reverseLimit
          description = "Current status of reverse limit switch. This status corresponds to BIT 2 of ADDR 84 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'."
          type = boolean
        }
        {
          name = forwardLimit
          description = "Current status of forward limit switch. This status corresponds to BIT 3 of ADDR 84 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'."
          type = boolean
        }
        {
          name = motorOff
          description = """
This status corresponds to BIT 0 'Motor Off' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

 __TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = finalDeceleration
          description = """
This status corresponds to BIT 3 'Motion is making final deceleration' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = stoppingForLimit
          description = """
This status corresponds to BIT 4 'Motion is stopping due to ST of Limit Switch' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = slewing
          description = """This status corresponds to BIT 5 'Motion is slewing' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = negativeDirection
          description = """This status corresponds to BIT 7 'Negative Direction Move' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = homing
          description = """
This status corresponds to BIT 12 '(FE) Find Edge in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionPAOnly
          description = """This status corresponds to BIT 13 'Mod of Motion PA only' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionMode
          description = """
This status corresponds to BIT 14 'Mode of Motion PA or PR' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = moving
          description = """This status corresponds to BIT 15 'Move in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = velocity
          description  = "Current velocity. This status corresponds to ADDR 102-105 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'."
          type = float
          units = mm/s
        }
        {
          name = torque
          description  = """
Current torque. This status corresponds to ADDR 106-109 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for X axis assigned to 'A'.

__TODO__: Check what torque value is entered here. Motion controller may simply write a value corresponding the current electric current. Thus, this attribute may be useful to check the current electric current setting. This attribute would be different from actual torque applied to the axis because there is no toqrue sensor attached.
"""
          type = float
          units = mNm
        }
      ]
    }
    {
      name = xAxisConf
      description = """
Current configuration of the linear stage for X axis motion.

This telemetry can be used to check if the current configuration is as intended. If not, the user shoud edit the configuration via Configuration Service or a local file, and re-initialize this assembly so that the latest configuration will be reloaded. This telemetry is updated only when initialization is performed.
"""
      maxRate = 1
      archive = true
      attributes = [
        {
          name = insertedPosition
          description = """
Inserted position.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = rawInsertedPosition
          description = """
Raw inserted position.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = insertedPositionDelta
          description = """
Acceptable positioning deviation at the inserted position.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = rawInsertedPositionDelta
          description = """
Raw acceptable positioning deviation at the inserted position.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = retractedPosition
          description = """
Retracted position.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = rawRetractedPosition
          description = """
Raw retracted position.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = retractedPositionDelta
          description = """
Acceptable positioning deviation at the retracted position.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = rawRetractedPositionDelta
          description = """
Raw acceptable positioning deviation at the retracted position.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = acceleration
          description = """
Acceleration of trapezoidal profile for normal motion (motion to move to the designated position, not the tracking motion) around the inserted position.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawAcceleration
          description = """
Raw acceleration value of trapezoidal profile for normal motion around the inserted position. This value corresponds to the argument of AC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
        }
        {
          name = deceleration
          description = """
Deceleration of trapezoidal profile for normal motion around the inserted position.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawDeceleration
          description = """
Raw deceleration value of trapezoidal profile for normal motion around the inserted position. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocity
          description = """
Maximum velocity of trapezoipdal profile for normal motion around the inserted position.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = mm/s
        }
        {
          name = rawVelocity
          description = """
Raw maximum velocity value of trapezoipdal profile for normal motion around the inserted position. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothing
          description = """
Smoothing factor of trapezoidal profile for normal motion around the inserted position. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.
"""
          type = float
          minimum = 0.25
          maximum = 64
        }
        {
          name = accelerationHoming
          description = """
Acceleration of trapezoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawAccelerationHoming
          description = """
Raw acceleration value of trapezoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = integer
        }
        {
          name = decelerationHoming
          description = """
Deceleration of trapezoidal profile for homoing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawDecelerationHoming
          description = """
Raw deceleration value of trapezoidal profile for homing. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocityHoming
          description = """
Maximum velocity of trapezoipdal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = mm/s
        }
        {
          name = rawVelocityHoming
          description = """
Raw maximum velocity value of trapezoipdal profile for homing. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothingHoming
          description = """
Smoothing factor of trapezoidal profile for homing. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.

"""
          type = float
          minimum = 0.25
          maximum = 64
        }
        {
          name = accelerationInOut
          description = """
Acceleration of trapezoidal profile for insertion and retraction motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawAccelerationInOut
          description = """
Raw acceleration value of trapezoidal profile for insertion and retraction motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = integer
        }
        {
          name = decelerationInOut
          description = """
Deceleration of trapezoidal profile for homoing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawDecelerationInOut
          description = """
Raw deceleration value of trapezoidal profile for insertion and retraction motion. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocityInOut
          description = """
Maximum velocity of trapezoipdal profile for insertion and retraction motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = mm/s
        }
        {
          name = rawVelocityInOut
          description = """
Raw maximum velocity value of trapezoipdal profile for insertion and retraction motion. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothingInOut
          description = """
Smoothing factor of trapezoidal profile for insertion and retraction motion. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.

"""
          type = float
          minimum = 0.25
          maximum = 64
        }
        {
          name = softwareLimits
          description = "Software limits in X axis. If the linear stage goes over this range, an alarm is activated."
          type = array
          dimensions: [2]
          items = {
            type = float
          }
          units = mm
        }
        {
          name = supressSoftwareLimitAlarm
          description = "Indicates whether the alarm for the software limits should be supressed. This configuration is useful to supress the alarm when an instrument specialist forcibly moves the linear stae in X axis (using engineering screen) over the software limit range for maintenance."
          type = boolean
          default = false
        }
      ]
    }
    {
      name = yAxis
      description = """
This telemetry contains statuses of the linear stage which moves in Y axis that may change over time in slow rate (up to approximately 1 Hz).

__TBD__: It may be better to separate some attributes into another data structure so that the whole telemetry won't be sent over the network only one attribute is changed.

__TODO__: Check the behavior of all statuses defined in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf). Currently, 'A stop code', 'A axis reference position', 'A axis auxiliary position', 'A axis analog input', 'A Hall Input status' and some status bits in 'A xis status' and 'A axis switches' are not used in this model. If they are useful, let them in this model.
"""
      maxRate = 1
      archive = true
      archiveRate = 1
      attributes = [
        {
          name = status
          description  = """
Current status of the linear stage for Y axis motion. Meaning of each value is as follows:  

* __HOMING__    : the linear stage is finding home.
* __TRACKING__  : the linear stage is tracking upstream motion.
* __MOVING__    : the linear stage is moving to a designated position.
* __STOP__      : the linear stage is not moving.
* __UNKNOWN__   : Unknown state.
"""
          enum = [HOMING, TRACKING, ROTATING, STOP, UNKNOWN]
        }
        {
          name = position
          description  = """
Current position of the linear stage in Y axis.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = targetPosition
          description  = """
Demanded position of the linear stage in Y axis.

__TODO__: Define maximum and minimum value.
"""
          type = float
          units = mm
        }
        {
          name = rawPosition
          description  = """
Current raw position of the linear stage in Y axis. This status corresponds to ADDR 90-93 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = targetRawPosition
          description  = """
Demanded raw position of the linear stage in Y axis.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = rawPositionError
          description  = """
Current raw position error of the linear stage in Y axis. This status corresponds to ADDR 94-97 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Define maximum and minimum value.
"""
          type = integer
        }
        {
          name = homeSwitch
          description = "Current status of home switch. This status corresponds to BIT 1 of ADDR 84 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'."
          type = boolean
        }
        {
          name = reverseLimit
          description = "Current status of reverse limit switch. This status corresponds to BIT 2 of ADDR 84 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'."
          type = boolean
        }
        {
          name = forwardLimit
          description = "Current status of forward limit switch. This status corresponds to BIT 3 of ADDR 84 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'."
          type = boolean
        }
        {
          name = motorOff
          description = """
This status corresponds to BIT 0 'Motor Off' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

 __TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = finalDeceleration
          description = """
This status corresponds to BIT 3 'Motion is making final deceleration' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = stoppingForLimit
          description = """
This status corresponds to BIT 4 'Motion is stopping due to ST of Limit Switch' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status. This signal may flip very fast, so the telemetry rate may have to be very fast.
"""
          type = boolean
        }
        {
          name = slewing
          description = """This status corresponds to BIT 5 'Motion is slewing' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = negativeDirection
          description = """This status corresponds to BIT 7 'Negative Direction Move' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = homing
          description = """
This status corresponds to BIT 12 '(FE) Find Edge in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionPAOnly
          description = """This status corresponds to BIT 13 'Mod of Motion PA only' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = motionMode
          description = """
This status corresponds to BIT 14 'Mode of Motion PA or PR' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = moving
          description = """This status corresponds to BIT 15 'Move in Progress' of ADDR 82 - 83 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Check the actual meaning of this status.
"""
          type = boolean
        }
        {
          name = velocity
          description  = "Current velocity. This status corresponds to ADDR 102-105 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'."
          type = float
          units = mm/s
        }
        {
          name = torque
          description  = """
Current torque. This status corresponds to ADDR 106-109 in Data Record of [DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) if the linear stage for Y axis is assigned to 'A'.

__TODO__: Check what torque value is entered here. Motion controller may simply write a value corresponding the current electric current. Thus, this attribute may be useful to check the current electric current setting. This attribute would be different from actual torque applied to the axis because there is no toqrue sensor attached.
"""
          type = float
          units = mNm
        }
      ]
    }
    {
      name = yAxisConf
      description = """
Current configuration of the linear stage for Y axis motion.

This telemetry can be used to check if the current configuration is as intended. If not, the user shoud edit the configuration via Configuration Service or a local file, and re-initialize this assembly so that the latest configuration will be reloaded. This telemetry is updated only when initialization is performed.
"""
      maxRate = 1
      archive = true
      attributes = [
        {
          name = acceleration
          description = """
Acceleration of trapezoidal profile for normal motion (motion to move to the designated position, not the tracing motion).

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawAcceleration
          description = """
Raw acceleration value of trapezoidal profile for normal motion. This value corresponds to the argument of AC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
        }
        {
          name = deceleration
          description = """
Deceleration of trapezoidal profile for normal motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawDeceleration
          description = """
Raw deceleration value of trapezoidal profile for normal motion. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocity
          description = """
Maximum velocity of trapezoipdal profile for normal motion.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = mm/s
        }
        {
          name = rawVelocity
          description = """
Raw maximum velocity value of trapezoipdal profile for normal motion. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothing
          description = """
Smoothing factor of trapezoidal profile for normal motion. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.
"""
          type = float
          minimum = 0.25
          maximum = 64
        }
        {
          name = accelerationHoming
          description = """
Acceleration of trapezoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawAccelerationHoming
          description = """
Raw acceleration value of trapezoidal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to accelerate to the top speed.
"""
          type = integer
        }
        {
          name = decelerationHoming
          description = """
Deceleration of trapezoidal profile for homoing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = float
          units = mm/s/s
        }
        {
          name = rawDecelerationHoming
          description = """
Raw deceleration value of trapezoidal profile for homing. This value corresponds to the argument of DC command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = velocityHoming
          description = """
Maximum velocity of trapezoipdal profile for homing.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.

__TBD__: Don't we need to define base velocity (start/stop velocity)? Couldn't find equivalent parameter in [Manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf).
"""
          type = float
          units = mm/s
        }
        {
          name = rawVelocityHoming
          description = """
Raw maximum velocity value of trapezoipdal profile for homing. This value corresponds to the argument of SP command.

__TODO__: Define maximum and minimum value. Minimum value should be larger than meaningful value. Do not allow extremly low value which may lead to very very long time to decelerate to zero.
"""
          type = integer
        }
        {
          name = smoothingHoming
          description = """
Smoothing factor of trapezoidal profile for homing. See 'Motion Smoothing' chapter in [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf) for more details. The argument of KS command corresponds to this factor. 0.25 means no smoothing, and 64 means the maximum smoothing.

__TODO__: Check if the type should be integer or float. According to [the manual of DMC-40x0](http://www.galilmotioncontrol.com/download/manual/man_40x0.pdf), this value is 'an integer from 0.25 to 64 and represents the amount of smoothing', but 0.25 is not an integer...

__TBD__: Maybe it would be useful to map this value to the range between 0 to 1 for simplicity.
"""
          type = float
          minimum = 0.25
          maximum = 64
        }
        {
          name = softwareLimits
          description = "Software limits of the linear stage. If the positioner goes over this range, an alarm is activated."
          type = array
          dimensions: [2]
          items = {
            type = float
          }
            units = mm
        }
        {
          name = supressSoftwareLimitAlarm
          description = "Indicates whether the alarm for the software limits is supressed. This configuration is useful to supress the alarm when an instrument specialist forcibly moves the linear stage (using engineering screen) over the software limit range for maintenance."
          type = boolean
          default = false
        }
      ]
    }
  ]

  alarms = [
    {
      name = xAxisSoftwareLimit
      description = """
This alarm is activated when the linear stage goes beyond a software limit in X axis. This alarm may be activated when someone forcibly moves the linaer stage beyond the software limit by using engineering screen, or by directly sending commands to the motion controller. Because the current position is inferred from the total number of pulses sent from the motion controller after the last homing, this alarm may be activated during homing after step-out occurs.

This alarm should not happen during an observation. If it does, this alarm should be reported to an instrument expert.
"""
      severity = minor
      archive = true
    }
    {
      name = xAxisHardwareLimit
      description = """
This alarm is activated when the linear stage hits a limit switch in X axis.

If the linear stage is still moving beyonds the limit switch in X axis, the operator should immediately stop the motion by sending stop command. If the motion controller does not stop even after that, the operator should turn off the motion controller. Because there is a mechanical block at each end, the linear stage will not derail from the linear guide even if the linear stage goes over the limit switch, but the hitting the mechanical block may cause unnecessary damage to the mechanisms, so the motion should be stopped immediately.

This alarm should not happen during an observation. If it does, this alarm should be reported to an instrument expert. If the linear stage goed beyond the limit switch, the instrument expert has to forcibly move it back to an operational range using an engineering screen.
"""
      severity = major
      archive = true
    }
    {
      name = yAxisSoftwareLimit
      description = """
This alarm is activated when the linear stage goes beyond a software limit in Y axis. This alarm may be activated when someone forcibly moves the linear stage beyond the software limit in Y axis by using engineering screen, or by directly sending commands to the motion controller. Because the current position is inferred from the total number of pulses sent from the motion controller after the last homing, this alarm may be activated during homing after step-out occurs.

This alarm should not happen during an observation. If it does, this alarm should be reported to an instrument expert.
"""
      severity = minor
      archive = true
    }
    {
      name = yAxisHardwareLimit
      description = """
This alarm is activated when the linear stage hits a limit switch in Y axis.

If the linear stage is still moving beyonds the limit switch in Y axis, the operator should immediately stop the motion by sending stop command. If the motion controller does not stop even after that, the operator should turn off the motion controller. Because there is a mechanical block at each end, the linear stage will not derail from the linear guide even if the linear stage goes over the limit switch, but the hitting the mechanical block may cause unnecessary damage to the mechanisms, so the motion should be stopped immediately.

This alarm should not happen during an observation. If it does, this alarm should be reported to an instrument expert. If the linear stage goed beyond the limit switch, the instrument expert has to forcibly move it back to an operational range using an engineering screen.
"""
      severity = major
      archive = true
    }
    {
      name = stall
      description = """
This alarm is activated when a severe stall (step-out) of any motor is detected. The actual scheme to detect the stall is TBD.
"""
      severity = major
      archive = true
    }
    {
      name = trackingFailure
      description = """
This alarm is activated when tracking motion cannot continue properly.

Note that tracking failure caused by step-out cannot be detected during the tracking motion because there is no position sensor except the home switch. This alarm just indicates that responses from the motion controller are delayed for some reason. Most probably it is caused by network congestion within IRIS private network.

If the alarm stays activated for a long time, or if this alarm happens repeatedly, the following actions may resolve this issue.

* Reload of this assembly.
* Reload the underlying Galil HCD.
* Cycliing the power of the motion controller.
* Reboot the computer which runs this assembly and Galil HCD.

If this alarm cannot be deactivated by the above actions, it should be reported to an instrument expert.
"""
      severity = minor
      archive = true
    }
  ]
}