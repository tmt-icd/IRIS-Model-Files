subsystem = IRIS
component = ifs-spectralres-assembly

publish {
  telemetry = [
    {
    	name = "resolution"
    	description = """
    		Spectral resolution
    	"""
    	minRate = 1
      	maxRate = 1
    	archive = true
    	archiveRate = 1
    	attributes = [
    		{
    			name = current
    			description  = "Current spectral resolution." 
    			enum = [4000-Z, 4000-Y, 4000-J, 4000-H, 4000-K, "4000-H+K", 8000-Z, 8000-Y, 8000-J, 8000-H, 8000-Kn1-3, 8000-Kn4-5, 8000-Kbb, 10000-Z, 10000-Y, 10000-J, 10000-H, 1000-K, Mirror]
    			default = TBD 
    		}
    		{
    			name = target
    			description  = "Target spectral resolution." 
    			enum = [4000-Z, 4000-Y, 4000-J, 4000-H, 4000-K, "4000-H+K", 8000-Z, 8000-Y, 8000-J, 8000-H, 8000-Kn1-3, 8000-Kn4-5, 8000-Kbb, 10000-Z, 10000-Y, 10000-J, 10000-H, 1000-K, Mirror]
    			default = TBD
    		}
    	]
    }
    {
    	name = "gratingmech"
    	description = "Spectral resolution grating mechanism."
    	minRate = 1
      	maxRate = 1
    	archive = true
    	archiveRate = 1
    	attributes = [
    		{
    			name = description
    			description  = "Description of this resolution mechanism."
    			type = string
    		}
    		{
    			name = position
    			description = "Current position name of spectral resolution grating mechanism."
    			type = string
    		}
    		{
    			name = rawPosition
    			description = "Current raw position of spectral resolution grating mechanism."
    			type = integer
    			default = -1
    			units = counts
    		}
    		{
    			name = switch
    			description  = "Current switch value of spectral resolution grating mechanism."
    			type = integer
    			minimum = 0
    			default = -1 
    		}
    		{
    			name = positionNumber
    			description = "Current position number of spectral resolution grating mechanism."
    			type = integer
    			minimum = 0
    			default =-1 
    		}
    		{
    			name = targetPosition
    			description = "Target position name of spectral resolution grating mechanism."
    			type = string
    		}
    		{
    			name = targetRawPosition
    			description = "Target raw position of spectral resolution grating mechanism." 
    			type = integer
    			default = -1
    			units = counts 
    		}
    		{
    			name = targetSwitch
    			description  = "Switch value at target position for spectral resolution grating mechanism."
    			type = integer
    			minimum = 0
    			default = -1
    		}
    		{
    			name = targetPositionNumber
    			description = "Target position number of spectral resolution grating mechanism." 
    			type = integer
    			minimum = 0 
    			default = -1
    		}
    		{
    			name = status
    			description = "Current status of spectral resolution grating mechanism."
    			type = string
    			default = UNKNOWN
    		}
    	]
    }
    {
    	name = "lensletmaskmech"
    	description = "Spectral resolution lenslet mask mechanism."
    	minRate = 1
      	maxRate = 1
    	archive = true
    	archiveRate = 1
    	attributes = [
    		{
    			name = description
    			description  = "Description of this resolution mechanism."
    			type = string
    		}
    		{
    			name = position
    			description = "Current position name of spectral resolution lenslet mask mechanism."
    			type = string
    		}
    		{
    			name = rawPosition
    			description = "Current raw position of spectral resolution lenslet mask mechanism."
    			type = integer
    			default = -1
    			units = counts
    		}
    		{
    			name = switch
    			description  = "Current switch value of spectral resolution lenslet mask mechanism."
    			type = integer
    			minimum = 0
    			default = -1 
    		}
    		{
    			name = positionNumber
    			description = "Current position number of spectral resolution lenslet mask mechanism."
    			type = integer
    			minimum = 0
    			default =-1 
    		}
    		{
    			name = targetPosition
    			description = "Target position name of spectral resolution lenslet mask mechanism."
    			type = string
    		}
    		{
    			name = targetRawPosition
    			description = "Target raw position of spectral resolution lenslet mask mechanism." 
    			type = integer
    			default = -1
    			units = counts 
    		}
    		{
    			name = targetSwitch
    			description  = "Switch value at target position for spectral resolution lenslet mask mechanism."
    			type = integer
    			minimum = 0
    			default = -1
    		}
    		{
    			name = targetPositionNumber
    			description = "Target position number of spectral resolution lenslet mask mechanism." 
    			type = integer
    			minimum = 0 
    			default = -1
    		}
    		{
    			name = status
    			description = "Current status of spectral resolution lenslet mask mechanism."
    			type = string
    			default = UNKNOWN
    		}
    	]
    }
    {
    	name = "slicermaskmech"
    	description = "Spectral resolution slicer mask mechanism."
    	minRate = 1
      	maxRate = 1
    	archive = true
    	archiveRate = 1
    	attributes = [
    		{
    			name = description
    			description  = "Description of this resolution mechanism."
    			type = string
    		}
    		{
    			name = position
    			description = "Current position name of spectral resolution slicer mask mechanism."
    			type = string
    		}
    		{
    			name = rawPosition
    			description = "Current raw position of spectral resolution slicer mask mechanism."
    			type = integer
    			default = -1
    			units = counts
    		}
    		{
    			name = switch
    			description  = "Current switch value of spectral resolution slicer mask mechanism."
    			type = integer
    			minimum = 0
    			default = -1 
    		}
    		{
    			name = positionNumber
    			description = "Current position number of spectral resolution slicer mask mechanism."
    			type = integer
    			minimum = 0
    			default =-1 
    		}
    		{
    			name = targetPosition
    			description = "Target position name of spectral resolution slicer mask mechanism."
    			type = string
    		}
    		{
    			name = targetRawPosition
    			description = "Target raw position of spectral resolution slicer mask mechanism." 
    			type = integer
    			default = -1
    			units = counts 
    		}
    		{
    			name = targetSwitch
    			description  = "Switch value at target position for spectral resolution slicer mask mechanism."
    			type = integer
    			minimum = 0
    			default = -1
    		}
    		{
    			name = targetPositionNumber
    			description = "Target position number of spectral resolution slicer mask mechanism." 
    			type = integer
    			minimum = 0 
    			default = -1
    		}
    		{
    			name = status
    			description = "Current status of spectral resolution slicer mask mechanism."
    			type = string
    			default = UNKNOWN
    		}
    	]
    }
    {
    name = status
    minRate = 1
    maxRate = 1
    archive = true
    archiveRate = 1
    attributes = [
    	{
        name = state
        description  = """
Current overall state of this assembly. Each values and their meanings are TBD.  
		"""
        type = string
        }
    	]
	}
]
alarms = [
	{
		name = grating_Stall
		description = "This alarm is activated when a severe stall is detected. The actual scheme to detect the stall and its resolution are TBD."
		severity = major
		archive = true
	}
	{
		name = lensletMask_Stall
		description = "This alarm is activated when a severe stall is detected. The actual scheme to detect the stall and its resolution are TBD."
		severity = major
		archive = true
	}
	{
		name = slicerMask_Stall
		description = "This alarm is activated when a severe stall is detected. The actual scheme to detect the stall and its resolution are TBD."
		severity = major
		archive = true
	}
]
}
