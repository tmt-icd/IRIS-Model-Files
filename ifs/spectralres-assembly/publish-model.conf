subsystem = IRIS
component = ifs-spectralres-assembly

publish {
  telemetry = [
    {
    	name = "resolution"
    	description = """
    		Spectral resolution
    	"""
    	minRate = 1
      	maxRate = 1
    	archive = true
    	archiveRate = 1
    	attributes = [
    		{
    			name = current
    			description  = "Current spectral resolution." 
    			enum = [4000-Z, 4000-Y, 4000-J, 4000-H, 4000-K, "4000-H+K", 8000-Z, 8000-Y, 8000-J, 8000-H, 8000-Kn1-3, 8000-Kn4-5, 8000-Kbb, 10000-Z, 10000-Y, 10000-J, 10000-H, 1000-K, Mirror]
    			default = TBD 
    		}
    		{
    			name = target
    			description  = "Target spectral resolution." 
    			enum = [4000-Z, 4000-Y, 4000-J, 4000-H, 4000-K, "4000-H+K", 8000-Z, 8000-Y, 8000-J, 8000-H, 8000-Kn1-3, 8000-Kn4-5, 8000-Kbb, 10000-Z, 10000-Y, 10000-J, 10000-H, 1000-K, Mirror]
    			default = TBD
    		}
    	]
    }
    {
    	name = "gratingmech"
    	description = "Spectral resolution grating mechanism."
    	minRate = 1
      	maxRate = 1
    	archive = true
    	archiveRate = 1
    	attributes = [
    		{
    			name = description
    			description  = "Description of this resolution mechanism."
    			type = string
    		}
    		{
    			name = position
    			description = "Current position name of spectral resolution grating mechanism."
    			type = string
    		}
    		{
    			name = rawPosition
    			description = "Current raw position of spectral resolution grating mechanism."
    			type = integer
    			default = -1
    			units = counts
    		}
    		{
    			name = switch
    			description  = "Current switch value of spectral resolution grating mechanism."
    			type = integer
    			minimum = 0
    			default = -1 
    		}
    		{
    			name = positionNumber
    			description = "Current position number of spectral resolution grating mechanism."
    			type = integer
    			minimum = 0
    			default =-1 
    		}
    		{
    			name = targetPosition
    			description = "Target position name of spectral resolution grating mechanism."
    			type = string
    		}
    		{
    			name = targetRawPosition
    			description = "Target raw position of spectral resolution grating mechanism." 
    			type = integer
    			default = -1
    			units = counts 
    		}
    		{
    			name = targetSwitch
    			description  = "Switch value at target position for spectral resolution grating mechanism."
    			type = integer
    			minimum = 0
    			default = -1
    		}
    		{
    			name = targetPositionNumber
    			description = "Target position number of spectral resolution grating mechanism." 
    			type = integer
    			minimum = 0 
    			default = -1
    		}
    		{
    			name = status
    			description = "Current status of spectral resolution grating mechanism."
    			type = string
    			default = UNKNOWN
    		}
    	]
    }
    {
    	name = "lensletmaskmech"
    	description = "Spectral resolution lenslet mask mechanism."
    	minRate = 1
      	maxRate = 1
    	archive = true
    	archiveRate = 1
    	attributes = [
    		{
    			name = description
    			description  = "Description of this resolution mechanism."
    			type = string
    		}
    		{
    			name = position
    			description = "Current position name of spectral resolution lenslet mask mechanism."
    			type = string
    		}
    		{
    			name = rawPosition
    			description = "Current raw position of spectral resolution lenslet mask mechanism."
    			type = integer
    			default = -1
    			units = counts
    		}
    		{
    			name = switch
    			description  = "Current switch value of spectral resolution lenslet mask mechanism."
    			type = integer
    			minimum = 0
    			default = -1 
    		}
    		{
    			name = positionNumber
    			description = "Current position number of spectral resolution lenslet mask mechanism."
    			type = integer
    			minimum = 0
    			default =-1 
    		}
    		{
    			name = targetPosition
    			description = "Target position name of spectral resolution lenslet mask mechanism."
    			type = string
    		}
    		{
    			name = targetRawPosition
    			description = "Target raw position of spectral resolution lenslet mask mechanism." 
    			type = integer
    			default = -1
    			units = counts 
    		}
    		{
    			name = targetSwitch
    			description  = "Switch value at target position for spectral resolution lenslet mask mechanism."
    			type = integer
    			minimum = 0
    			default = -1
    		}
    		{
    			name = targetPositionNumber
    			description = "Target position number of spectral resolution lenslet mask mechanism." 
    			type = integer
    			minimum = 0 
    			default = -1
    		}
    		{
    			name = status
    			description = "Current status of spectral resolution lenslet mask mechanism."
    			type = string
    			default = UNKNOWN
    		}
    	]
    }
    {
    	name = "slicermaskmech"
    	description = "Spectral resolution slicer mask mechanism."
    	minRate = 1
      	maxRate = 1
    	archive = true
    	archiveRate = 1
    	attributes = [
    		{
    			name = description
    			description  = "Description of this resolution mechanism."
    			type = string
    		}
    		{
    			name = position
    			description = "Current position name of spectral resolution slicer mask mechanism."
    			type = string
    		}
    		{
    			name = rawPosition
    			description = "Current raw position of spectral resolution slicer mask mechanism."
    			type = integer
    			default = -1
    			units = counts
    		}
    		{
    			name = switch
    			description  = "Current switch value of spectral resolution slicer mask mechanism."
    			type = integer
    			minimum = 0
    			default = -1 
    		}
    		{
    			name = positionNumber
    			description = "Current position number of spectral resolution slicer mask mechanism."
    			type = integer
    			minimum = 0
    			default =-1 
    		}
    		{
    			name = targetPosition
    			description = "Target position name of spectral resolution slicer mask mechanism."
    			type = string
    		}
    		{
    			name = targetRawPosition
    			description = "Target raw position of spectral resolution slicer mask mechanism." 
    			type = integer
    			default = -1
    			units = counts 
    		}
    		{
    			name = targetSwitch
    			description  = "Switch value at target position for spectral resolution slicer mask mechanism."
    			type = integer
    			minimum = 0
    			default = -1
    		}
    		{
    			name = targetPositionNumber
    			description = "Target position number of spectral resolution slicer mask mechanism." 
    			type = integer
    			minimum = 0 
    			default = -1
    		}
    		{
    			name = status
    			description = "Current status of spectral resolution slicer mask mechanism."
    			type = string
    			default = UNKNOWN
    		}
    	]
    }
    {
    name = status
    minRate = 1
    maxRate = 1
    archive = true
    archiveRate = 1
    attributes = [
    	{
        name = state
        description  = """
Current overall state of ADC. Meaning of each value is as follows:  

* __Init:Loaded__         : This assembly is loaded. This state corresponds to _Loaded_ state of CSW component lifecycle.
* __Init:Initilizing__    : Loading configuration.
* __Init:Uninitializing__ : Uninitializing this assembly.
* __Init:Initialized__    : This assembly is initialized. Configuration is loaded. This state corresponds to _Initialized_ state of CSW component lifecycle.
* __Init:Connecting__     : Establishing connection to HCD(s).
* __Init:Shutdown__       : Shutdown of this assembly is on-going.
* __Init:Running__        : This assembly is ready for 'datum' or 'lock', but not ready for obsevation. This state corresponds to _Running_ state of CSW component lifecycle.
* __Datum:Datuming__      : Datum is on-going.
* __Datum:Braking__       : Stopping on-going datum action.
* __Datum:Paused__        : Datum is interrupted.
* __Datum:Error__         : Encountered an error during datum.
* __Lock:Locking__        : Lock action is on-going.
* __Lock:Braking__        : Stoppping on-going lock action.
* __Lock:Paused__         : Lock action is interrupted.
* __Lock:Locked__         : The machanisms are locked (actual meaning is __TBD__).
* __Lock:Error__          : Encountered an error during lock action or locked state.
* __Park:Parking__        : Park action is on-going.
* __Park:Braking__        : Stopping on-going park action.
* __Park:Paused__         : Park action is interrupted.
* __Park:Parked__         : The mechanisms are parked (actual meaning is __TBD__).
* __Park:Error__          : Encountered an error during park action or parked state.
* __Normal:Changing__     : Filters are being changed.
* __Normal:Braking__      : Stopping on-going rotating motion.
* __Normal:Ready__        : Ready to change filters.
* __Normal:Error__        : Encountered an error while changing filters.
		"""
        type = string
        }
    	]
	}
]
}
