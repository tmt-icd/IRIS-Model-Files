subsystem = IRIS
component = ifs-scale-assembly

publish {
	telemetry = [
		{
			name = scale
	    	description = "IFS Scale"
	    	minRate = 1
	    	maxRate = 1
	    	archive = true
	    	archiveRate = 1
	    	attributes = [
	    		{
	    			name = current
	    			description  = "Current IFS scale"
	    			enum = [4, 9, 25, 50]
	    			default = 4
	    			units = mas
	    		}
	    		{
	    			name = target
	    			description  = "Current IFS scale"
	    			enum = [4, 9, 25, 50]
	    			default = 4
	    			units = mas
	    		}
	    	]
    	}
    	{
    		name = IFSmode
    		description = "Current IFS mode determined by scale and resolution."
    		maxRate = 1
    		archive = true
    		attributes = [
    			{
	    			name = mode
	    			description = "Current IFS mode"
	    			enum = [lenslet, slicer]
    			}
    		]
    			
    	}
    	{
	    	name = pickoffMirrorMech
	    	description = "Slicer Pickoff Mirror Mechanism Telemetry"
	    	minRate = 1
	    	maxRate = 1
	    	archive = true
	    	archiveRate = 1
	    	attributes = [
	    		{
	    			name = position
	    			description = "Current position name of pickoff mirror mechanism."
	    			enum =[IN, OUT]
	    			default = OUT 
	    		}
	    		{
	    			name = rawPosition
	    			description  = "Current raw position of pickoff mirror mechanism."
	    			type = integer
	    			units = counts 
	    			minimum = 0
	    			default = -1 
	    		}
	    		{
	    			name = switch
	    			description = "Current switch value of pickoff mirror mechanism." 
	    			type = integer
	    			minimum = 0
	    			default =-1 
	    		}
	    		{
	    			name = positionNumber
	    			description  = "Current position number of pickoff mirror mechanism."
	    			type = integer
	    			minimum = 0 
	    			default = -1
	    		}
	    		{
	    			name = targetPosition
	    			description = "Target position name of pickoff mirror mechanism."
	    			enum =[IN, OUT]
	    			default = OUT 
	    		}
	    		{
	    			name = targetRawPosition
	    			description  = "Target raw position of pickoff mirror mechanism."
	    			type = integer
	    			units = counts 
	    			minimum = 0
	    			default = -1 
	    		}
	    		{
	    			name = targetSwitch
	    			description = "Switch value at target position for pickoff mirror mechanism." 
	    			type = integer
	    			minimum = 0
	    			default =-1 
	    		}
	    		{
	    			name = targetPositionNumber
	    			description  = "Target position number of pickoff mirror mechanism."
	    			type = integer
	    			minimum = 0 
	    			default = -1
	    		}
	    		{
	    			name = status
	    			description  = "Current status of pickoff mirror mechanism"
	    			type = string
	    			default = UNKNOWN
	    		}
	    	]
	    }
    	{
	    	name = periscopeMirrorMech
	    	description = "Periscope Mirror Mechanism Telemetry"
	    	minRate = 1
	    	maxRate = 1
	    	archive = true
	    	archiveRate = 1
	    	attributes = [
	    		{
	    			name = position
	    			description = "Current position name of periscope mirror mechanism."
	    			enum =[IN, OUT]
	    			default = OUT 
	    		}
	    		{
	    			name = rawPosition
	    			description  = "Current raw position of periscope mirror mechanism."
	    			type = integer
	    			units = counts 
	    			minimum = 0
	    			default = -1 
	    		}
	    		{
	    			name = switch
	    			description = "Current switch value of periscope mirror mechanism." 
	    			type = integer
	    			minimum = 0
	    			default =-1 
	    		}
	    		{
	    			name = positionNumber
	    			description  = "Current position number of periscope mirror mechanism."
	    			type = integer
	    			minimum = 0 
	    			default = -1
	    		}
	    		{
	    			name = targetPosition
	    			description = "Target position name of periscope mirror mechanism."
	    			enum =[IN, OUT]
	    			default = OUT 
	    		}
	    		{
	    			name = targetRawPosition
	    			description  = "Target raw position of periscope mirror mechanism."
	    			type = integer
	    			units = counts 
	    			minimum = 0
	    			default = -1 
	    		}
	    		{
	    			name = targetSwitch
	    			description = "Switch value at target position for periscope mirror mechanism." 
	    			type = integer
	    			minimum = 0
	    			default =-1 
	    		}
	    		{
	    			name = targetPositionNumber
	    			description  = "Target position number of periscope mirror mechanism."
	    			type = integer
	    			minimum = 0 
	    			default = -1
	    		}
	    		{
	    			name = status
	    			description  = "Current status of periscope mirror mechanism"
	    			type = string
	    			default = UNKNOWN
	    		}
	    	]
	    }
	    {
	    	name = firstopticsmech
	    	description = "Telemetry item for the first optics mechanism which controls all four scales, 4, 9, 25, and 50 mas"
	    	minRate = 1
	    	maxRate = 1
	    	archive = true
	    	archiveRate = 1
	    	attributes = [
	    		{
	    			name = position
	    			description = "Current position name of first optics mechanism."
	    			enum =[TBD1, TBD2]
	    			default = TBD1 
	    		}
	    		{
	    			name = rawPosition
	    			description  = "Current raw position of first optics mechanism."
	    			type = integer
	    			units = counts 
	    			minimum = 0
	    			default = -1 
	    		}
	    		{
	    			name = switch
	    			description = "Current switch value of first optics mechanism." 
	    			type = integer
	    			minimum = 0
	    			default =-1 
	    		}
	    		{
	    			name = positionNumber
	    			description  = "Current position number of first optics mechanism."
	    			type = integer
	    			minimum = 0 
	    			default = -1
	    		}
	    		{
	    			name = targetPosition
	    			description = "Target position name of first optics mechanism."
	    			enum =[TBD1, TBD2]
	    			default = TBD1 
	    		}
	    		{
	    			name = targetRawPosition
	    			description  = "Target raw position of first optics mechanism."
	    			type = integer
	    			units = counts 
	    			minimum = 0
	    			default = -1 
	    		}
	    		{
	    			name = targetSwitch
	    			description = "Switch value at target position for first optics mechanism." 
	    			type = integer
	    			minimum = 0
	    			default =-1 
	    		}
	    		{
	    			name = targetPositionNumber
	    			description  = "Target position number of first optics mechanism."
	    			type = integer
	    			minimum = 0 
	    			default = -1
	    		}
	    		{
	    			name = status
	    			description  = "Current status of first optics mechanism"
	    			type = string
	    			default = UNKNOWN
	    		}
	    	]
	    }
	    {
	    	name = secondopticsmech
	    	description = "Telemetry item for the seconds optics mechanism which controls scales of 25 and 50 mas together with first optics mechanism"
	    	minRate = 1
	    	maxRate = 1
	    	archive = true
	    	archiveRate = 1
	    	attributes = [
	    		{
	    			name = position
	    			description = "Current position name of second optics mechanism."
	    			enum =[TBD1, TBD2]
	    			default = TBD1 
	    		}
	    		{
	    			name = rawPosition
	    			description  = "Current raw position of second optics mechanism."
	    			type = integer
	    			units = counts 
	    			minimum = 0
	    			default = -1 
	    		}
	    		{
	    			name = switch
	    			description = "Current switch value of second optics mechanism." 
	    			type = integer
	    			minimum = 0
	    			default =-1 
	    		}
	    		{
	    			name = positionNumber
	    			description  = "Current position number of second optics mechanism."
	    			type = integer
	    			minimum = 0 
	    			default = -1
	    		}
	    		{
	    			name = targetPosition
	    			description = "Target position name of second optics mechanism."
	    			enum =[TBD1, TBD2]
	    			default = TBD1 
	    		}
	    		{
	    			name = targetRawPosition
	    			description  = "Target raw position of second optics mechanism."
	    			type = integer
	    			units = counts 
	    			minimum = 0
	    			default = -1 
	    		}
	    		{
	    			name = targetSwitch
	    			description = "Switch value at target position for second optics mechanism." 
	    			type = integer
	    			minimum = 0
	    			default =-1 
	    		}
	    		{
	    			name = targetPositionNumber
	    			description  = "Target position number of second optics mechanism."
	    			type = integer
	    			minimum = 0 
	    			default = -1
	    		}
	    		{
	    			name = status
	    			description  = "Current status of second optics mechanism"
	    			type = string
	    			default = UNKNOWN
	    		}
	    	]
	    }
	    {
      	name = status
      	minRate = 1
      	maxRate = 1
      	archive = true
      	archiveRate = 1
      	attributes = [
        	{
           	name = state
           	description  = """
Current overall state of this assembly. Each values and their meanings are TBD.  
			"""
           	type = string
        	}
	    
  		]
		}
	]
	alarms = [
	{
		name = pickoffMirror_Stall
		description = "This alarm is activated when a severe stall is detected. The actual scheme to detect the stall and its resolution are TBD."
		severity = major
		archive = true
	}
	{
		name = periscopeMirror_Stall
		description = "This alarm is activated when a severe stall is detected. The actual scheme to detect the stall and its resolution are TBD."
		severity = major
		archive = true
	}
	{
		name = firstOptics_Stall
		description = "This alarm is activated when a severe stall is detected. The actual scheme to detect the stall and its resolution are TBD."
		severity = major
		archive = true
	}
	{
		name = secondOptics_Stall
		description = "This alarm is activated when a severe stall is detected. The actual scheme to detect the stall and its resolution are TBD."
		severity = major
		archive = true
	}
	]
}
