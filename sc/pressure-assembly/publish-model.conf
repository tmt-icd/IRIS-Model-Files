subsystem = IRIS
component = pressure-assembly

publish {
  	telemetry = [
    {
      	name = "pressure"
      	description = "Pressure reading for gauge specified by gaugeNumber"
       	archive = true
      	attributes = [
       		{
         	name = value
			description = "Current pressure for this gauge"
			type = number
			minimum = 0
			units = Torr
	       	}
	       	{
			name = gaugeDescription
			description = "Description of current gauge (location, type)"
			type = string
	       	}
	       	{
	        name = gaugeNumber
			description = "Gauge ID number"
			type = integer
	       	}
	       	{
			name = gaugeGasCoefficient
			description = "Gas correction factor for this gauge"
			type = number
	       	}
	       	{
	        name = gaugeNoiseFilter
			description = "Measurement noise filter for this gauge (TBD)"
			type = number
	       	}
      	]
		}
		{
      	name = "status"
      	description = "Overall status of pressure assembly."
      	archive = true
      	attributes = [
        	{
	  		name = unlockAllowed
	  		description = """
				Indicates if mechanisms and detectors can be unlocked.


				__TBD__: Consider whether this is really needed.
			"""
	  		type = boolean
	 		default = false
        	}
        ]
		}
	]
	alarms = [
		{
			name = exceedMinimumAlarm
			description = "This alarm is activated when the pressure of the science dewar reaches or exceeds the minimum pressure allowed."
			severity = major
			archive = true
		}
		{
			name = approachingMinimumAlarm
			description = "This alarm is activated when the pressure of the science dewar approaches the minimum pressure allowed by set amount."
			severity = minor
			archive = true
		}
		{
			name = approachingMaximumAlarm 
			description = "This alarm is activated when the pressure of the science dewar approaches the maximum pressure allowed by set amount."
			severity = minor
			archive = true
		}
		{
			name = exceedMaximumAlalrm
			description = "This alarm is activated when the pressure of the science dewar reaches or exceeds the maximum pressure allowed."
			severity = major 
			archive = true
		}
		{
			name = approachingMaxGradientAlarm
			description = "This alarm is activated when the pressure gradient approaches to the maximum gradient allowed."
			severity = minor 
			archive = true
		}
		{
			name = exceedMaxGradientAlarm 
			description = "This alarm is activated when the pressur gradient reaches or exceeds the maximum gradient allowed."
			severity = major
			archive = true
		}
	]
}
